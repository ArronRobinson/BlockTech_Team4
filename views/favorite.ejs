<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MatchCast - Vind jouw perfecte podcast</title>
    <link rel="stylesheet" href="favorite.css">
    <link rel="stylesheet" href="all.css">

    <!-- Change this line to prevent source map error -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/list.js/2.3.1/list.min.js" data-source-map-skip="true"></script>
</head>
<body>
    <header>
        <%- include('partials/nav') %>
    </header>
    <main>
        <div class="controls">
            <label for="filter">Filter:</label>
            <select id="filter">
                <option value="all">All</option>
                <option value="sports">Sports</option>
                <option value="boeken">Boeken</option>
                <option value="koken">Koken</option>
                <option value="gamen">Gamen</option>
                <option value="muziek">Muziek</option>
                <option value="film">Film</option>
                <option value="nieuws">Nieuws en politiek</option>
                <option value="kunst">Kunst</option>
                <option value="misdaad">Misdaad</option>
                <option value="geschiedenis">Geschiedenis</option>
                <option value="mode">Mode</option>
                <option value="lifestyle">Lifestyle</option>
            </select>
            <label for="sort">Sort:</label>
            <select id="sort">
                <option value="title">A-Z</option>
                <option value="title:desc">Z-A</option>
            </select>
        </div>
        <div id="podcast-list">
            <ul class="list">
                <% if (locals.favoritePodcasts && favoritePodcasts.length > 0) { %>
                    <% favoritePodcasts.forEach(function(podcast) { %>
                        <section data-name="<%= podcast.title %>" data-tags="<%= podcast.tags ? podcast.tags.join(', ').toLowerCase() : '' %>">
                            <div class="podcast-content" onclick="window.location.href='/podcast-detail/<%= encodeURIComponent(podcast.title) %>'">
                                <img src="<%= podcast.image || 'images/360_F_418874697_trvAoXSfjetoptCXpR8N8XvO3R5eLtL4.jpg' %>" alt="<%= podcast.title %>">
                                <h2 class="title"><%= podcast.title %></h2>
                            
                                <!-- Like Button & Rating -->
                                <div class="like-rating-container" onclick="event.stopPropagation()">
                                    <button class="likeButton liked">
                                        <svg class="likeIcon liked">
                                            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 6.5 3.5 5 5.5 5c1.54 0 3.04.99 3.57 2.36h1.87C15.46 5.99 16.96 5 18.5 5 20.5 5 22 6.5 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                                        </svg>
                                    </button>
                            
                                    <div class="rating-display">
                                        <span class="rating-star">â˜…</span>
                                        <span class="rating-value">5.0</span> 
                                    </div>
                                </div>
                            
                                <p class="podcast-description"><%= podcast.description || 'No description available' %></p>
                            
                                <% if (podcast.tags && podcast.tags.length > 0) { %>
                                    <div class="tags-container">
                                        <% podcast.tags.forEach(function(tag) { %>
                                            <span class="tag"><%= tag %></span>
                                        <% }); %>
                                    </div>
                                <% } %>
                            </div>
                        </section>
                    <% }); %>
                <% } else { %>
                    <div class="empty-message">No favorite podcasts yet. Discover new podcasts in the survey!</div>
                <% } %>
            </ul>
        </div>
        <article>
            <div class="circle"></div>
            <div class="circleTwo"></div>
        </article>
    </main>
    <script src="/script/frontend.js"></script>
    <script src="/script/filter.js"></script>
</body>
</html>